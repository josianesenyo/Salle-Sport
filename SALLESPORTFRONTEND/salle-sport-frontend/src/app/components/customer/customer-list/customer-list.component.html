<div class="dashboard-container">

    <!-- Sidebar -->
    <div class="sidebar">
        <h2>SportFit</h2>
        <a href="#">ğŸ  Accueil</a>
        <a href="/subscription-list" >ğŸ‘¤ AbonnÃ©s</a>
        <a href="/customers" class="active">ğŸ‘¥ Clients</a>
        <a href="/packs">ğŸ“¦ Offres</a>
        <a href="/reports">ğŸ“Š Statistiques</a>
        <button class="logout" (click)="logout()" *ngIf="isLoggedIn()">DÃ©connexion</button>
    </div>

    <!-- Contenu principal -->
    <div class="main-content">

        <!-- Recherche Client -->
        <div class="card search-container">
            <input type="text" [(ngModel)]="searchTerm" (keyup)="onSearch()" placeholder="ğŸ” Rechercher un client...">
        </div>

        <!-- Liste des clients trouvÃ©s -->
        <div class="table-container card" *ngIf="foundCustomers.length > 0">
            
            <h2>RÃ©sultats de recherche</h2>
            <table>
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Nom</th>
                        <th>PrÃ©nom</th>
                        <th>TÃ©lÃ©phone</th>
                        <th>Date d'inscription</th>
                        <th>Abonnement</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let customer of foundCustomers">
                        <td>{{ customer.id }}</td>
                        <td>{{ customer.lastName }}</td>
                        <td>{{ customer.firstName }}</td>
                        <td>{{ customer.phoneNumber }}</td>
                        <td>{{ customer.registrationDate | date:'dd/MM/yyyy' }}</td>
                        <td>{{ customer.activeSubscription ? 'âœ… Oui' : 'âŒ Non' }}</td>
                        <td>
                            <button (click)="startEdit(customer.id)">âœï¸ Modifier</button>
                            <button (click)="onDelete(customer.id)">ğŸ—‘ï¸ Supprimer</button>
                            <button (click)="startView(customer.id)">ğŸ” Voir</button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Liste ComplÃ¨te des Clients -->
        <div class="table-container card">
            <a href="/add-customer" class="button">â• Ajouter un client</a>
            <h2>Liste des clients</h2>
            <table>
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Nom</th>
                        <th>PrÃ©nom</th>
                        <th>TÃ©lÃ©phone</th>
                        <th>Date d'inscription</th>
                        <th>Abonnement</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let customer of customers">
                        <td>{{ customer.id }}</td>
                        <td>{{ customer.lastName }}</td>
                        <td>{{ customer.firstName }}</td>
                        <td>{{ customer.phoneNumber }}</td>
                        <td>{{ customer.registrationDate | date:'dd/MM/yyyy' }}</td>
                        <td>{{ customer.activeSubscription ? 'âœ… Oui' : 'âŒ Non' }}</td>
                        <td>
                            <button (click)="startEdit(customer.id)">âœï¸ Modifier</button>
                            <button (click)="onDelete(customer.id)">ğŸ—‘ï¸ Supprimer</button>
                            <button (click)="startView(customer.id)">ğŸ” Voir</button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        

    </div>
</div>
